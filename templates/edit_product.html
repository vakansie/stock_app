<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Product</title>
    <script>
        window.onload = function() {
            var currentUrl = window.location.pathname;
            var updatedAction = currentUrl.replace("edit_product", "update_product");
            document.getElementById('updateForm').action = updatedAction;
        }
    </script>
</head>
<body>
    <h1>Edit Product</h1>
    <p>{{ product[manufacturer] }}</p>
    <form id="updateForm" method="post">
        {% for field in fields %}
        <div>
            <label for="{{ field }}">{{ field.capitalize() }}:</label>
            <input type="text" id="{{ field }}" name="{{ field }}" value="{{ product[field] }}" required>
            <input type="hidden" name="manufacturer_route" value="{{ product['manufacturer'] }}">
        </div>
        {% endfor %}
        <input type="submit" value="Submit">
    </form>
    <form action="{{ url_for('delete_product', table=table, id=product['id']) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this product?');">
        <input type="submit" value="Delete Product" style="background-color: red;">
    </form>    
</body>
</html>
